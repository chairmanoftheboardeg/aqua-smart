<!doctype html>
<html lang="en">
<head>
<title>Admin Console | AquaSmart</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#1176ae">
<link rel="icon" href="/assets/images/favicon.png">
<link rel="preconnect" href="https://hhqriuezzjlrhmwifxva.supabase.co">
<link rel="stylesheet" href="/assets/css/styles.css">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="/assets/js/config.js"></script>
<script defer src="/assets/js/app.js"></script>

</head>
<body>
<div id="siteHeader"></div>
<main><section class="section"><div class="container">
<div class="badge">Staff Portal</div><h1 style="margin-top:12px;">Admin Console</h1>
<p class="muted">Access: /admin/ (also linked in footer). Sign in with staff email + password.</p>
<div id="status" class="notice" style="margin-top:12px;"></div>

<form id="loginForm" class="card pad" style="margin-top:16px;max-width:560px;">
  <div class="form-row" style="grid-template-columns:1fr;">
    <div><label>Email</label><input id="email" type="email" required placeholder="staff@company.com"></div>
    <div><label>Password</label><input id="password" type="password" required placeholder="••••••••"></div>
  </div>
  <div style="display:flex;gap:10px;margin-top:12px;flex-wrap:wrap;">
    <button class="btn primary" type="submit">Sign in</button>
    <a class="btn ghost" href="/">Back to Home</a>
  </div>
</form>

<button id="logoutBtn" class="btn ghost hide" style="margin-top:12px;">Sign out</button>

<div id="adminPanel" class="hide" style="margin-top:16px;">
  <div class="grid two">
    <div class="card pad">
      <h2>Announcement Banner</h2>
      <p class="muted">The top bar stays visible even if text is empty.</p>
      <div style="margin-top:10px;"><label><input id="bannerEnabledInput" type="checkbox"> Enabled</label></div>
      <div style="margin-top:10px;"><label>Text</label><input id="bannerTextInput" placeholder="(optional)"></div>
      <div class="form-row" style="margin-top:10px;">
        <div><label>Link text (optional)</label><input id="bannerLinkTextInput" placeholder="Request a Quote"></div>
        <div><label>Link URL (optional)</label><input id="bannerLinkUrlInput" placeholder="/request-a-quote/"></div>
      </div>
      <div style="margin-top:12px;"><button class="btn primary" id="bannerSaveBtn" type="button">Save</button></div>
    </div>

    <div class="card pad">
      <h2>Create Job</h2>
      <div class="form-row">
        <div><label>Title</label><input id="jobTitle" placeholder="Role title"></div>
        <div><label>Location</label><input id="jobLocation" placeholder="Seychelles"></div>
      </div>
      <div class="form-row" style="margin-top:10px;">
        <div><label>Employment type</label><input id="jobType" placeholder="Full-time / Part-time / Contract / Volunteer"></div>
        <div style="display:flex;align-items:flex-end;">
          <label style="display:flex;gap:10px;align-items:center;margin:0;"><input id="jobActive" type="checkbox" checked> Publish immediately</label>
        </div>
      </div>
      <div style="margin-top:10px;"><label>Description</label><textarea id="jobDesc" placeholder="Role summary and responsibilities"></textarea></div>
      <div style="margin-top:10px;"><label>Requirements (optional)</label><textarea id="jobReq" placeholder="Requirements"></textarea></div>
      <div style="margin-top:10px;"><label>How to apply (optional)</label><textarea id="jobApply" placeholder="Any additional instructions"></textarea></div>
      <div style="margin-top:12px;"><button class="btn primary" id="jobCreateBtn" type="button">Create job</button></div>
    </div>
  </div>

  <div class="card pad" style="margin-top:16px;">
    <h2>Inquiries</h2>
    <div style="overflow:auto;">
      <table class="table">
        <thead><tr><th>Created</th><th>Type</th><th>Name</th><th>Contact</th><th>Service</th><th>Status</th><th>Actions</th></tr></thead>
        <tbody id="inquiriesBody"></tbody>
      </table>
    </div>
  </div>

  <div class="card pad" style="margin-top:16px;">
    <h2>Jobs</h2>
    <div style="overflow:auto;">
      <table class="table">
        <thead><tr><th>Created</th><th>Title</th><th>Location</th><th>Type</th><th>State</th><th>Actions</th></tr></thead>
        <tbody id="jobsBody"></tbody>
      </table>
    </div>
  </div>

  <div class="card pad" style="margin-top:16px;">
    <h2>Applications</h2>
    <div style="overflow:auto;">
      <table class="table">
        <thead><tr><th>Created</th><th>Job</th><th>Name</th><th>Contact</th><th>CV</th><th>Status</th><th>Actions</th></tr></thead>
        <tbody id="appsBody"></tbody>
      </table>
    </div>
  </div>
</div>
</div></section>
<script defer src="/assets/js/admin.js"></script></main>
<div id="siteFooter"></div>
</body>
</html>